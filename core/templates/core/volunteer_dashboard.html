{% extends 'core/base.html' %}
{% block content %}
<div class="container mt-5">

<h3>ðŸšš Volunteer Dashboard</h3>

<h5 class="mt-4">Available Tasks</h5>
{% for task in available_tasks %}
  <div class="card p-3 mb-3">
    <p><strong>Food:</strong> {{ task.donation.food_name }}</p>
    <p><strong>Pickup:</strong> {{ task.donation.pickup_location }}</p>

    <a href="{% url 'accept_task' task.id %}" class="btn btn-success btn-sm">
      Accept Task
    </a>
  </div>
{% empty %}
  <p>No available tasks.</p>
{% endfor %}

<h5 class="mt-4">My Tasks</h5>
{% for task in my_tasks %}
  <div class="card p-3 mb-3">
    <span class="badge bg-info">{{ task.status }}</span>

    {% if task.status == 'picked' %}
      <a href="{% url 'complete_task' task.id %}" class="btn btn-primary btn-sm mt-2">
        Mark as Delivered
      </a>
    {% endif %}

    <a href="{% url 'cancel_task' task.id %}" class="btn btn-outline-danger btn-sm mt-2">
      Cancel
    </a>
  </div>
{% empty %}
  <p>No tasks assigned.</p>
{% endfor %}

<a href="{% url 'completed_deliveries' %}" class="btn btn-outline-success mt-4">
  View Completed Deliveries
</a>

</div>
{% endblock %}
